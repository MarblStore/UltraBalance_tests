# Автотесты Playwright (Python) для https://ultrabalance.ru

## Быстрый старт (VS Code)
1. Установите Python 3.10+.
2. Создайте виртуальное окружение и активируйте его:
   - Windows: `python -m venv .venv && .venv\Scripts\activate`
   - macOS/Linux: `python -m venv .venv && source .venv/bin/activate`
3. Установите зависимости: `pip install -r requirements.txt`
4. Установите браузеры Playwright: `python -m playwright install`
5. Скопируйте `.env.example` в `.env` и при необходимости измените значения.
6. Запуск:
   - Все тесты: `pytest`
   - Отчёт HTML: `pytest --html=report.html`
   - Теги: `pytest -m smoke`

## Что проверяется
- Доступность главной страницы, базовые элементы хедера/футера.
- Открытие ключевых статических страниц (оферта, политика, возвраты).
- Поиск товара (универсальные селекторы с несколькими попытками).
- Добавление товара в корзину и проверка счётчика.
- Переход в корзину и наличие позиции.

> Сайт — SPA (JS). Playwright подходит идеально. Селекторы сделаны максимально устойчивыми (role/text/css), есть запасные варианты.

## Где менять селекторы
- Файл `pages/selectors.py`: центральное место со списком селекторов и их альтернатив.
- При падении теста сначала посмотрите, какой из селекторов не найден, и поправьте его тут — тесты автоматически подхватят изменения.

## CI
При необходимости добавьте GitHub Actions. Я могу подготовить workflow под ваш репозиторий.
